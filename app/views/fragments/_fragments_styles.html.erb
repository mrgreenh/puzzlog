<% 
	scss_variables = "$background_color: #ffffff;$foreground_color: #000000;$third_color: #555555;"
	if @page
		scss_variables = getScssVariables(@page)
		page_css =<<EOF
body {
	background-color: darken($background_color,10%);
	color: $foreground_color;
}
.article_content_container {
	background-color: $background_color;
	}
EOF
		scss_string = "#{scss_variables} #{page_css}"
		sass_engine = Sass::Engine.new(scss_string,:syntax => :scss) %>
		<%= sass_engine.render %>
	<% end
	if !@fragment_types.nil?
  		@fragment_types.each do |k,frag_type|
			scss_string = "#{scss_variables} .fragment_type_#{k} { #{frag_type.stylesheet}}"
  			sass_engine = Sass::Engine.new(scss_string,:syntax => :scss) %>
  			<%= sass_engine.render %>
	<% end
end

if !@articles.nil?
	@articles.each do |article| %>
			<%= render 'articles/article_summaries_styles', article: article %>
	<% end	
end
%>